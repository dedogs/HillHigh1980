var GScope;(function(n){var t;(function(t){var i=function(){function t(){var i=this;this.setFilterValues=function(){i.mapped[t.ElementIds.SortBy].selectedIndex=i.filter.Values.SortBy;i.mapped[t.ElementIds.SearchBy].selectedIndex=i.filter.Values.SearchBy;i.mapped[t.ElementIds.RosterSearch].value=i.filter.Values.Value};this.getFilterValues=function(){var r=i.mapped[t.ElementIds.SortBy].value,u=i.mapped[t.ElementIds.SearchBy].value;i.filter.SearchBy=u==="searchFirst"?n.Entity.Filter.Name.FirstName:n.Entity.Filter.Name.LastName;i.filter.SortBy=r==="sortFirst"?n.Entity.Filter.Name.FirstName:n.Entity.Filter.Name.LastName;i.filter.Value=i.mapped[t.ElementIds.RosterSearch].value;i.filter.storeFilterValues()};this.clearText=function(n){i.mapped[t.ElementIds.RosterSearch].value!==""&&(i.mapped[t.ElementIds.RosterSearch].value="",i.submitSearch(n))};this.sortBy=function(n){i.submitSearch(n)};this.submitSearch=function(){i.getFilterValues();i._service.FindRostersByName(i.filter.Values).then(function(n){i.mapped[t.ElementIds.ShowRoster].innerHTML=n}).catch(function(){})};this.filter=new n.Entity.Filter;this._service=new n.ApplicationService.Service.RosterService(new n.Infrastructure.RosterRepository);this.mapped=function(){return n.Module.MappedIds.get([{key:t.ElementIds.RosterSearch,value:t.ElementIds.RosterSearch},{key:t.ElementIds.SearchBy,value:t.ElementIds.SearchBy},{key:t.ElementIds.SortBy,value:t.ElementIds.SortBy},{key:t.ElementIds.SubmitSearch,value:t.ElementIds.SubmitSearch},{key:t.ElementIds.ShowRoster,value:t.ElementIds.ShowRoster},{key:t.ElementIds.ClearText,value:t.ElementIds.ClearText}])}();this.eventActions=[new n.Module.EventManager.EventAction(t.ElementIds.SubmitSearch,this.mapped[t.ElementIds.SubmitSearch],"click"),new n.Module.EventManager.EventAction(t.ElementIds.SortBy,this.mapped[t.ElementIds.SortBy],"change"),new n.Module.EventManager.EventAction(t.ElementIds.ClearText,this.mapped[t.ElementIds.ClearText],["click"])];this.manager=new n.Module.EventManager(this);this.manager.attach();this.setFilterValues();this.mapped[t.ElementIds.SubmitSearch].click()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t}();t.IndexView=i,function(n){var t;(function(n){n.SearchBy="searchBy";n.SortBy="sortBy";n.RosterSearch="rosterSearch";n.SubmitSearch="submitSearch";n.ShowRoster="showRoster";n.ClearText="clearText"})(t=n.ElementIds||(n.ElementIds={}))}(i=t.IndexView||(t.IndexView={}))})(t=n.Page||(n.Page={}))})(GScope||(GScope={}));GScope.Page.IndexView.getInstance();