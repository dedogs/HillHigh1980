var GScope;(function(n){var t;(function(t){var i=function(){function t(){var i=this;this._locationId=0;this.detailsLocations=function(n){var r=n.target,u=$(r).parent().get(0),f=u.getAttribute("data-cityState").split(",");i.mapped["$"+t.ElementIds.AddUpdateForm].show();r.className.lastIndexOf("Add")!==-1?(i.mapped[t.ElementIds.PostLoctaion].html="Add Location",i._locationId=0):r.className.lastIndexOf("Edit")!==-1?(i.mapped[t.ElementIds.PostLoctaion].html="Edit Location",i._locationId=parseInt(u.id),i.mapped[t.ElementIds.City].value=f[0],i.mapped[t.ElementIds.State].value=f[1]):r.className.lastIndexOf("Remove")!==-1&&(i.mapped["$"+t.ElementIds.AddUpdateForm].hide(),i.postLoctaion(n))};this.postLoctaion=function(){var r=new n.Entity.Location;r.LocationId=i._locationId;r.City=i.mapped[t.ElementIds.City].value;r.State=i.mapped[t.ElementIds.State].value;r.RosterId=i.mapped[t.ElementIds.RosterId].getAttribute("data-rosterId");i.mapped["$"+t.ElementIds.AddUpdateForm].hide();i._locationId===0?i._service.CreateRosterLocations([r]).then(function(){}).catch(function(){}):i._service.UpdateRosterLocation(r).then(function(){}).catch(function(){})};this.manager=new n.Module.EventManager(this);this._service=new n.ApplicationService.Service.RosterService(new n.Infrastructure.RosterRepository);this.mapped=function(){return n.Module.MappedIds.get([{key:t.ElementIds.City,value:t.ElementIds.City},{key:t.ElementIds.State,value:t.ElementIds.State},{key:t.ElementIds.PostLoctaion,value:t.ElementIds.PostLoctaion},{key:t.ElementIds.Locations,value:t.ElementIds.Locations},{key:t.ElementIds.RosterId,value:t.ElementIds.RosterId},{key:t.ElementIds.AddUpdateForm,value:t.ElementIds.AddUpdateForm}])}();this.manager.add([new n.Module.EventManager.EventAction(t.ElementIds.PostLoctaion,this.mapped[t.ElementIds.PostLoctaion],"click")]);this.manager.add([new n.Module.EventManager.EventAction(t.ElementIds.PostLoctaion,this.mapped[t.ElementIds.Locations],"click")]);this.manager.attach();this.mapped["$"+t.ElementIds.AddUpdateForm].hide()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t}();t.DetailsView=i,function(n){var t;(function(n){n.City="rosterCity";n.State="rosterState";n.PostLoctaion="postLoctaion";n.Locations="detailsLocations";n.RosterId="rosterId";n.AddUpdateForm="addUpdateForm"})(t=n.ElementIds||(n.ElementIds={}))}(i=t.DetailsView||(t.DetailsView={}))})(t=n.Page||(n.Page={}))})(GScope||(GScope={}));GScope.Page.DetailsView.getInstance();